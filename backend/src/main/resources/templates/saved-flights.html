<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>SkyExplorer - Saved Flights</title>
		<!-- Favicon -->
		<link rel="icon" href="/favicon.ico" type="image/x-icon" />
		<link rel="shortcut icon" href="/favicon.ico" type="image/x-icon" />
		<!-- Bootstrap 5 CSS -->
		<link
			href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css"
			rel="stylesheet"
		/>
		<!-- Material Icons -->
		<link
			href="https://fonts.googleapis.com/icon?family=Material+Icons"
			rel="stylesheet"
		/>
		<!-- Custom CSS -->
		<link rel="stylesheet" href="/static/css/styles.css" />
	</head>
	<body class="d-flex flex-column min-vh-100">
		<!-- Navigation -->
		<nav class="navbar navbar-expand-lg navbar-dark bg-primary sticky-top">
			<div class="container">
				<a class="navbar-brand d-flex align-items-center" href="/">
					<i class="material-icons me-2">flight</i>
					<span class="fw-bold">SkyExplorer</span>
				</a>
				<button
					class="navbar-toggler"
					type="button"
					data-bs-toggle="collapse"
					data-bs-target="#navbarNav"
					title="Toggle navigation"
				>
					<span class="navbar-toggler-icon"></span>
				</button>
				<div class="collapse navbar-collapse" id="navbarNav">
					<ul class="navbar-nav me-auto">						<li class="nav-item">
							<a class="nav-link" href="/"
								><i class="material-icons align-middle me-1"
									>search</i
								>
								Search Flights</a
							>
						</li>
						<li class="nav-item">
							<a class="nav-link active" href="/saved-flights"
								><i class="material-icons align-middle me-1"
									>favorite</i
								>
								Saved Flights</a
							>
						</li>
						<li class="nav-item">
							<a class="nav-link" href="/bookings"
								><i class="material-icons align-middle me-1"
									>confirmation_number</i
								>
								Bookings</a
							>
						</li>
					</ul>
					<!-- User authentication nav items -->
					<ul class="navbar-nav" id="authNav">
						<!-- These items will be dynamically shown/hidden based on auth status -->
						<li class="nav-item" id="loginNavItem">
							<a class="nav-link" href="/login"
								><i class="material-icons align-middle me-1"
									>login</i
								>
								Login</a
							>
						</li>
						<li class="nav-item" id="registerNavItem">
							<a class="nav-link" href="/register"
								><i class="material-icons align-middle me-1"
									>person_add</i
								>
								Register</a
							>
						</li>
						<li class="nav-item dropdown d-none" id="userDropdown">
							<a
								class="nav-link dropdown-toggle"
								href="#"
								role="button"
								data-bs-toggle="dropdown"
							>
								<i class="material-icons align-middle me-1"
									>account_circle</i
								>
								<span id="username">User</span>
							</a>
							<ul class="dropdown-menu dropdown-menu-end">
								<li>
									<a class="dropdown-item" href="/profile"
										><i
											class="material-icons align-middle me-2"
											>person</i
										>
										My Profile</a
									>
								</li>
								<li><hr class="dropdown-divider" /></li>
								<li>
									<a
										class="dropdown-item text-danger"
										href="#"
										id="logoutBtn"
										><i
											class="material-icons align-middle me-2"
											>logout</i
										>
										Logout</a
									>								</li>
							</ul>
						</li>
					</ul>
				</div>
			</div>
		</nav>

		<!-- Main content area -->
		<div class="container my-4 flex-grow-1">
			<!-- Hero section -->
			<div class="row mb-4">
				<div class="col-12">
					<div class="p-5 text-center bg-light rounded-3">
						<h1 class="display-5 fw-bold">
							<i class="material-icons align-middle me-2"
								>favorite</i
							>
							Your Saved Flights
						</h1>
						<p class="fs-4">
							View and manage all your favorite flights in one
							place!
						</p>
					</div>
				</div>
			</div>

			<!-- Saved flights content -->
			<div class="row justify-content-center">
				<div class="col-md-10">
					<div class="card shadow-lg border-0 mb-4">
						<div class="card-header bg-primary text-white py-3">
							<h3 class="mb-0 text-center">Saved Flights</h3>
						</div>
						<div class="card-body p-4">
							<div id="savedFlightsContainer">
								<p class="text-center" id="loadingMessage">
									<span
										class="spinner-border spinner-border-sm"
										role="status"
										aria-hidden="true"
									></span>
									Loading saved flights...
								</p>
								<ul
									id="savedFlightsList"
									class="list-group list-group-flush"
								>
									<!-- Saved flights will be loaded here -->
								</ul>
								<div
									id="noFlightsMessage"
									class="text-center py-5"
									style="display: none"
								>
									<i
										class="material-icons"
										style="font-size: 48px"
										>sentiment_very_dissatisfied</i
									>
									<h4 class="mt-3">No saved flights found</h4>
									<p>
										You haven't saved any flights yet. Go to
										the <a href="/">search page</a> to find
										and save flights.
									</p>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>

		<!-- Footer -->
		<footer class="bg-dark text-white py-4 mt-auto">
			<div class="container">
				<div class="row">
					<div class="col-md-6">
						<h5>
							<i class="material-icons align-middle me-2"
								>flight</i
							>
							SkyExplorer
						</h5>
						<p class="mb-0">
							Find and book the best flights for your journey
						</p>
					</div>
					<div class="col-md-6 text-md-end">
						<p class="mb-0">
							&copy; 2025 SkyExplorer. All rights reserved.
						</p>
						<small class="text-muted">Powered by Spring Boot</small>
					</div>
				</div>
			</div>
		</footer>

		<!-- Login Modal -->
		<div
			class="modal fade"
			id="loginModal"
			tabindex="-1"
			aria-hidden="true"
		>
			<div class="modal-dialog">
				<div class="modal-content">
					<div class="modal-header bg-primary text-white">
						<h5 class="modal-title">Login Required</h5>
						<button
							type="button"
							class="btn-close btn-close-white"
							data-bs-dismiss="modal"
							aria-label="Close"
						></button>
					</div>
					<div class="modal-body">
						<p>You need to be logged in to access this feature.</p>
						<div class="d-flex justify-content-between">
							<a href="/login" class="btn btn-primary">Login</a>
							<a href="/register" class="btn btn-outline-primary"
								>Register</a
							>
						</div>
					</div>
				</div>
			</div>
		</div>

		<!-- Bootstrap 5 JS Bundle with Popper -->
		<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"></script>
		<!-- CSRF Protection -->
		<script src="/static/js/csrf.js"></script>
		<!-- Auth JS -->
		<script src="/static/js/auth.js"></script>
		<!-- Main JS -->
		<script src="/static/js/scripts.js"></script>
		<!-- Saved Flights JS -->
		<script src="/static/js/saved-flights.js"></script>
	</body>
</html>
